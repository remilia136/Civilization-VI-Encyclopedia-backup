<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8">
    <meta name='author' content="Remilia136">
    <link rel="icon" href="favicon.ico" type ="image/x-icon">
    <script src="https://cdn.bootcdn.net/ajax/libs/react/16.13.1/umd/react.production.min.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/react-dom/16.13.1/umd/react-dom.production.min.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/babel-standalone/7.0.0-beta.3/babel.min.js"></script>
    <style>
        #root {
            margin-left: 100px;
            padding: 0;
        }

        .Top {
            overflow-y: auto;
            background-color: rgb(58, 1, 1);
            width: 1086px;
            height: 55px;
            padding-left: 20px;
            position: absolute;
            left: 212px;
            top: 53px;
            z-index: 1;
        }

        .Left {
            overflow-y: auto;
            background-color: rgb(58, 1, 1);
            /* height: 1000px;*/
            width: 200px;
            float: left;
            position: absolute;
            left: 212px;
            top: 108px;
            z-index: 1;
            min-height: 1060px;
        }

        .Right {
            border: 20px solid;
            border-image: url("./parchment_patternbright.png");
            background-image: url("./parchment_patternbright.png");
            background-size: 256px 256px;
            background-repeat: repeat;
            min-height: 1020px;
            width: 867px;
            float: left;
            position: absolute;
            left: 411px;
            top: 108px;
            z-index: 0;
        }

        .TopButton {
            display: inline-block;
            position: relative;
            bottom: 8px;
            width: 50px;
            height: 50px;
            margin-top: 30px;
            margin-right: 3px;
            background-image: url('./launchbar_hook_button1.png');
            background-size: 100% 100%;

        }

        .TopButton:hover {
            background-image: url('./launchbar_hook_button2.png');
        }

        .LeftButtonBo {
            padding: 0;
            margin-bottom: 2px;
            height: 4px;
            width: 172px;
            border: 14px solid;
            border-image: url("./controls_optionframe.png") 39 48 39 48 fill;
            border-image-repeat: stretch;
            text-align: left;
            position: relative;
            right: 12px;
            bottom: 13px;
        }

        .LeftP {
            display: inline-block;
        }

        .LExtendButton {
            background-image: url("./controls_expandbutton.png");
            background-size: cover;
            width: 22px;
            height: 22px;
            float: right;
            position: relative;
            bottom: 9px;
        }

        .LExtendButton_ {
            background-image: url("./controls_expandbutton_.png");
            background-size: cover;
            width: 22px;
            height: 22px;
            float: right;
            position: relative;
            bottom: 9px;
        }

        .Main {
            margin-left: 100px;
            width: 1000px;
            height: 1050px;
            border: 59px solid;
            border-image: url("./controls_windowtitle.png") 165 fill;
            border-image-repeat: stretch;
            padding: 0;
            overflow: hidden;
        }

        #composite_tabledge {
            position: absolute;
            height: 60px;
            width: 1100px;
            top: 35px;
            left: 220px;
            z-index: 2;
        }

        .topbuttons {
            position: absolute;
            top: 30px;
            z-index: 3;
        }

        .search {
            height: 20px;
            width: 156px;
            border-width: 13px 15px 13px 25px;
            border-style: solid;
            border-image: url('./controls_search2.png') 12 30 12 75 fill;
            border-image-repeat: stretch;
            color: #fff;
            background-color: rgb(58, 1, 1);
        }

        .option {
            margin: 0;
            border: 12px solid;
            border-image: url("./controls_buttoncontrol_brown_normal.png") 33 fill;
            border-image-repeat: stretch;
            color: white;
            height: 7px;
            width: 176px;
            text-align: left;
            line-height: 5px;
            /*background-color: rgb(58, 1, 1);*/
            font-size: 2px;
        }

        .option:hover {
            border-image: url("./controls_buttoncontrol_brown_hover.png") 33 fill;
        }

        .rightinner {
            min-height: 980px;
            border: 17px solid;
            border-image: url("./pageframe.png") 48 fill;
            border-image-repeat: stretch;
        }

        body {
            background-image: url("./parchment_patternbright.png");
            background-size: 256px 256px;
            background-repeat: repeat;
        }

        .tbimg {
            position: relative;
            top: 8px;
            left: 10px;
        }
    </style>
</head>

<body>
    <div id='root'></div>
    <script type='text/babel'>
        const { useState, useEffect } = window.React
        const array = [
            {
                name: "概念",
                src: './topbuttons/gainian.webp',
                content: [
                    {
                        name: "模式",
                        content: [
                            {
                                name: "秘密结社",
                                contain: {}
                            },
                            {
                                name: "行业,垄断与公司",
                                contain: {}
                            },
                        ]
                    },
                    {
                        name: "迭起兴衰",
                        content: [
                            {
                                name: "",
                                contain: {}
                            }
                        ]
                    },
                    {
                        name: "城市",
                        content: [
                            {
                                name: "",
                                contain: {}
                            }
                        ]
                    },
                    {
                        name: "世界",
                        content: [
                            {
                                name: "",
                                contain: {}
                            }
                        ]
                    },
                    {
                        name: "战斗",
                        content: [
                            {
                                name: "",
                                contain: {}
                            }
                        ]
                    },
                    {
                        name: "空战",
                        content: [
                            {
                                name: "",
                                contain: {}
                            }
                        ]
                    },
                    {
                        name: "单位移动力",
                        content: [
                            {
                                name: "",
                                contain: {}
                            }
                        ]
                    },
                    {
                        name: "科技值与科学",
                        content: [
                            {
                                name: "",
                                contain: {}
                            }
                        ]
                    },
                    {
                        name: "文化值和市政",
                        content: [
                            {
                                name: "",
                                contain: {}
                            }
                        ]
                    },
                    {
                        name: "金币和经济",
                        content: [
                            {
                                name: "",
                                contain: {}
                            }
                        ]
                    }
                ]
            },
            {
                name: "文明",
                src: './topbuttons/wenminglingxiu.webp',
                content: [

                ]
            },
            {
                name: "城邦",
                src: './topbuttons/chengbang.webp',
                content: [

                ]
            },
            {
                name: "区域",
                src: './topbuttons/quyu.webp',
                content: []
            },
            {
                name: "建筑",
                src: './topbuttons/jianzhu.webp',
                content: []
            },
            {
                name: "奇观和项目",
                src: './topbuttons/qiguanhexiangmu.webp',
                content: []
            },
            {
                name: "单位",
                src: './topbuttons/danwei.webp',
                content: []
            },
            {
                name: "单位强化",
                src: './topbuttons/danweiqianghua.webp',
                content: []
            },
            {
                name: "伟人",
                src: './topbuttons/weiren.webp',
                content: []
            },
            {
                name: "科技",
                src: './topbuttons/keji.webp',
                content: []
            },
            {
                name: "市政",
                src: './topbuttons/shizheng.webp',
                content: []
            },
            {
                name: "政体与政策",
                src: './topbuttons/zhengtiyuzhengce.webp',
                content: []
            },
            {
                name: "宗教",
                src: './topbuttons/zongjiao.webp',
                content: []
            },
            {
                name: "地形和地貌",
                src: './topbuttons/dixinghedimao.webp',
                content: []
            },
            {
                name: "资源",
                src: './topbuttons/ziyuan.webp',
                content: []
            },
            {
                name: "改良设施和路线",
                src: './topbuttons/gailiangsheshiheluxian.webp',
                content: []
            },
            {
                name: "总督",
                src: './topbuttons/zongdu.webp',
                content: []
            },
            {
                name: "历史时刻",
                src: './topbuttons/lishishike.webp',
                content: []
            },
        ]
        function Main(props) {
            const [TopChosen, setChosen] = useState(array[0])
            function MainOnClick(content) {
                setChosen(content)
                console.log(TopChosen)
            }
            const TopButtons = array.map((member) => {
                return <TopButton content={member} MainOnClick={MainOnClick} />
            })// 上方按钮的react对象

            return <div class='Main'>
                <img src='./composite_tabledge2.png' id='composite_tabledge' />
                <div class='topbuttons'>
                    {TopButtons}
                </div>
                <Top />
                <Left content={TopChosen} />
                <Right />

            </div>
        }
        function Top(props) {

            return <div class='Top'>



            </div>
        }
        function Left(props) {                      //左栏
            console.log(props.content.content)
            const buttons = props.content.content.map((num) => {
                return <LeftButton value={num} />
            })
            return <div class='Left'>

                <input type='text' class='search' />
                <p class='option'>开始</p>
                {buttons}
            </div>
        }
        function Right(props) {                 //右栏
            return <div class='Right'><div class='rightinner' ></div></div>
        }
        function TopButton(props) {
            function TOnclick() {
                props.MainOnClick(props.content)
            }
            return <div class='TopButton'><img src={props.content.src} class='tbimg' title={props.content.title} onClick={TOnclick} /></div>
        }
        function LeftButton(props) {
            const [Class, setClass] = useState("LExtendButton")
            const options = props.value.content.map((member) => {
                return <div class='option'>{member.name}</div>
            })
            function LBOnclick() {
                Class === "LExtendButton" ? setClass('LExtendButton_') : setClass('LExtendButton')
                console.log(props.value.content)
                console.log(options)
            }
            return (
                <div>
                    <div class="option" onClick={LBOnclick}>
                        <div class='LeftButtonBo'>
                            <p class='LeftP'>{props.value.name}</p>
                            <div class={Class}></div>
                        </div>
                    </div>
                    {Class === "LExtendButton" ?  null : options}
                </div>
            )
        }
        ReactDOM.render(
            <Main />,
            document.getElementById('root')
        )
        console.log(array[0].name)
    </script>
</body>

</html>